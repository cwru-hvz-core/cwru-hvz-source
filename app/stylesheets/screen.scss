@import "partials/base";

@import "compass/reset";
@import "blueprint";
@import "blueprint/colors";
@import "blueprint/buttons";
@import "fancy-buttons";

@import "compass/utilities/general/min";
@import "compass/css3/font-face";
@import "compass/css3/text-shadow";
@import "compass/css3/box-shadow";
@import "compass/css3/images";

@include font-face("Dink", font-files("DINk.ttf",truetype));

body {
	@include blueprint-typography(true);
	@include background(linear-gradient(top, $bg_color 0px, 
    $bg_color $header_top, 
    $header_top_color $header_top, 
    $header_bottom_color $header_bottom, 
    $bg_color $header_bottom, 
    $header_bottom_border_color $header_bottom, 
    $header_bottom_border_color $header_bottom+$header_border_height, 
    $footer_color $header_bottom+$header_border_height, 
    $footer_color
  ), image-url("bg.png"), $footer_color);
	background-repeat: repeat-x;
  position: relative;
  height:100%;
  margin:0 auto -$footer_height;

  div#push {
    height:$footer_height;
    padding-top:0px !important;
  }
}
body,html {
  height:100%;
}

#header {
	@include prepend-top($header_top);
	margin-left:auto;
	margin-right:auto;
	height:$header_bottom - $header_top + $header_border_height;
	width:1100px;

	h1#site_name {
		@include prepend-top(20px);
		margin-left:30px;
		@include append-bottom(0px);
		float:left;
		font-size:36px;
		font-weight: normal;
		color:white;
    a { color: white; text-decoration:none; }
    a:hover { color: $bg_color; }
	}
	h1#site_name.admin {	
		color:mix($admin_header_color, $bg_color, 10%);
		@include text-shadow($admin_header_color 2px 2px 7px, $admin_header_color -2px 2px 7px);
	}
	div#button_row {
		float:right;
		margin-top:14px;
		li.button {
			/*@include button-colors(mix(#FFF,$button_bg_color,70%), $button_bg_color, lighten($button_bg_color,20%), #000);
			 *  @include button-button();
			 *  font-weight:normal */
			@include fancy-button();
		}
	}
  div#top_bar {
    height: $header_bottom - $header_title_height + 3px;
    width: $blueprint_container_size + 340px;
    margin: auto;
    line-height: $header_bottom - $header_title_height;
    font-size: 1.3em;
  }

  div#button_row {
    ul {
      list-style-type:none;
      margin:0;
      height: $header_bottom - $header_title_height + 1px;

      li {
        a {
          display:block;
          height: 100%;
          padding-left:15px;
          padding-right:15px;
          color: #000;
        }
        a:hover {
          background-color: darken($bg_color, 5%);
        }

        float:left; 
        background-color:white; 
        margin-right:20px;
        text-align:center; 
        border-left: 2px solid $header_bottom_border_color;
        border-top: 2px solid $header_bottom_border_color;
        border-right: 2px solid $header_bottom_border_color;
      }
    }
  }

}

div#body {
	/* The container element for the left links bar, the main
	 * content area, and the right status bar
	 */
	width:100%;
	margin-left:auto;
  margin-right:auto;
  margin-bottom:-$footer_height - 2px; /* Dunno why -2px? */
  background: image-url("bg2.png") center repeat-y $bg_color; /* We'll hack this with an image */
  min-height:100%;
  min-width: 1100px;

  div#body_content {
    /* NOTE: Hierarchically, everything should be nested in here,
     *  but to prevent unnecessary indentation, it is not. */
    width:1100px;
    margin:auto;
    > div {
      padding-top: 10px;
    }
  }

  div#content {
    @include container;
    
    @include min-height(450px);
    /*
     * background-color: white;	
     * border-left: 2px solid darken($bg_color, 5%);
     * border-right: 2px solid darken($bg_color, 5%);
     */
    text-align:center;

    h1#title {
      font-size:3em;
      text-align: center;
      @include column(22, true);
    }
    div#gamedesc {
      @include column(20);
      @include prepend(1);
      @include min-height(100px);
    }
    div#humans {
      font-size:3em;
      text-align:right;
      @include column(8);
    }
    div#hvzlogo {
      text-align:center;
      @include column(6);
    }
    div#zombies {
      font-size:3em;
      text-align:left;
      @include column(8, true);
    }
  }

  /*
   * CSS for the left and right side bars. Since most CSS is shared, first
   * we declare the differences and then the similar parts.
   */
  div#left_sidebar {
    float:left;
    ul { text-align: right; 
      li a { padding-right: 20px;}
    }
    h3 { text-align: right; padding-right: 20px; }
  }
  div#right_sidebar {
    float:right;
    ul { text-align: left;
      li a { padding-left: 20px; }
    }
  }
  div.sidebar {
    /*@include prepend-top($header_bottom - $header_title_height + 2px);*/
    width:168px;
    color:black;
    
    h3 {
      margin-bottom:5px;
      padding-left:20px;
      text-decoration:underline;
      a {
        color: #000;
      }	
    }
    ul {
      list-style-type:none;
      padding: 0 0 20px 0;
      margin: 0px;
      clear:both;

      li {
        height:2em;
        border-bottom: 1px solid darken($bg_color, 5%);
        /* margin-bottom: -1px; /* So you can click on the border between items */

        a {
          text-decoration:none;
          color: black;
          display:block;
          padding-top:0.3em;
        }
      }
      li:hover {
        background-color: darken($bg_color, 5%);
      }
      li.admin {
        background-color: mix($bg_color, $admin_header_color, 80%);
        border-bottom: 1px solid mix($bg_color, $admin_header_color, 50%);
        a { color:$admin_header_color; font-weight:bold; }
      }
      li.admin:hover {
        background-color: mix($bg_color, $admin_header_color, 70%);
      }
    }
    div#persona {
      text-align:right;
      margin: 5px 20px 5px 10px;
      
      div#persona_img{
        float:left;
        font-size:1em;
      }
      div#persona_name {
        float:right;
      }
      div#persona_edit {
        clear:right;
      }
      img { 
        margin: 0 5px; 
        border: 3px outset $header_color;
      }
    }
  }
} /* end div#body */
div#body.expanded {
  background: image-url("bg2_extended.png") repeat-y scroll center center $bg_color !important;  

  div#body_content {
    div#right_sidebar {
      display:none;
    }
    div#content {
      width: 928px !important;
    }
  }
}

div#footer_container {
	clear:both;
	background-color:$footer_color;
	border-top: 2px solid $header_bottom_border_color;
	@include box-shadow(darken($footer_color, 10%) 0px 10px 10px inset);
	padding-top:20px;
  @include min-width(1100px);

	div#footer {
		width: 760px;
		margin:auto;
    height:$footer_height - 20px;
	}
}

.dink {
	font-family:"Dink";
}
.hidden {
	display:none;
}
